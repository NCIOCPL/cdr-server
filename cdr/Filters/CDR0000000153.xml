<CdrDoc Type='Filter' Id='CDR0000000153'>
<CdrDocCtl>
<DocValStatus readonly="yes">U</DocValStatus>
<DocActiveStatus readonly="yes">A</DocActiveStatus>
<DocTitle readonly="yes">Health Professional Summary Report-Bold/Underline</DocTitle>
<DocComment>CVS-V1.33: Proposed deletion</DocComment><ReadyForReview readonly="yes">N</ReadyForReview>
</CdrDocCtl>
<CdrDocXml><![CDATA[<?xml version="1.0"?>
<!-- ==================================================================
     Filter to display revised Summary with Insertions in bold/underline
     =================================================================== -->

<xsl:transform               xmlns:xsl = "http://www.w3.org/1999/XSL/Transform"
                               version = "1.0"
                             xmlns:cdr = "cips.nci.nih.gov/cdr"
               exclude-result-prefixes = "cdr">

    <xsl:import                   href = "cdr:name:InLine Markup Formatter"/>
    <xsl:include                  href = "cdr:name:Table Formatter"/>

    <xsl:output                 method = "html" 
                                indent = "no"/>

    <xsl:template match="/">
     <!-- <!DOCTYPE HTML PUBLIC '-//IETF//DTD HTML//EN' /> -->
     <HTML>
     <HEAD>
     <xsl:variable                name = "cdrdocs" 
                                select = "document('cdrx:/*/CdrCtl')"/>

     <TITLE>
     <xsl:value-of              select = "document('cdrutil:/docid')"/>
     <xsl:value-of              select = "substring-before(                
                                          $cdrdocs/CdrDocCtl/DocTitle, ';')"/>
     </TITLE>
     
   <!--Inline sytle sheet to display H2 and H4 headers in Navy -->
     <STYLE>
            h2 { font style: bold font size: 14pt}
            h3 { font style: bold font size: 13pt}
            h4 { font style: bold font size: 12pt}
            td { font size: 8pt}
          <!-- p {font size: medium}
           dd {font size: medium}
           dt {font size: medium}
           li {font size: medium}
           pre {font size: medium}
           H3  {font size: medium}-->
           li.lnone {list-style-type: none}
           ul.lnone {list-style: none}
           li.disc  {list-style:disc}
           li.square {list-style:square}
           ol.little-alpha { list-style: lower-alpha; }
           ol.A { list-style: upper-alpha; }
           ol.little-roman { list-style: lower-roman; }
           ol.I { list-style: upper-roman; }
           ol.d { list-style: decimal; }
     </STYLE>
     </HEAD>
     <BASEFONT FACE='Arial, Helvetica, sans-serif'/> 
     <xsl:apply-templates       select = "Summary"/>
     </HTML>
    </xsl:template>

<!-- ================================================================
       Produce the HTML BODY 
     ================================================================ -->
    <xsl:template                match = "Summary">
     <BODY>
     <xsl:apply-templates       select = "SummaryTitle" 
                                  mode = "TOC"/>
 
     <ul Class="lnone">
     <xsl:for-each              select = "SummarySection">
      <xsl:call-template          name = "TocSummarySection">
       <xsl:with-param            name = "level"
                                select = "1"/>
      </xsl:call-template>  
     </xsl:for-each>
     </ul>

     <xsl:apply-templates/>
     </BODY>
    </xsl:template>
          
<!-- ======================================================================
       Display CitationLink
     ===================================================================== -->
    <xsl:template              match = "CitationLink">
     <xsl:if                   test="not(@InsertionOrDeletion='Deletion')">
         <xsl:variable         name = "nextRef" 
                               select = "position()+1"/>
         <xsl:variable         name = "firstRef" 
                               select = "position()-1"/>
         <xsl:variable         name = "ref" 
                               select = "."/>
      
        <xsl:if                test = "name(../node()[$firstRef])
                                        != 'CitationLink'">
        <xsl:value-of          select = "'['"/>
        </xsl:if>
                    
        <xsl:choose>
        <xsl:when              test = "@InsertionOrDeletion
                                        = 'Insertion'">
        <xsl:choose>
        <xsl:when              test = "@RevisionLevel='proposed'">
         <b>
        <xsl:value-of          select = "@refidx"/>
         </b>
        </xsl:when>
        <xsl:otherwise>
         <b><u>
          <xsl:value-of         select = "@refidx"/>
         </u></b>
        </xsl:otherwise>
       </xsl:choose>
      </xsl:when> 
      <xsl:when                 test = "@InsertionOrDeletion
                                        = 'Deletion'"/>  
      <xsl:otherwise>
       <xsl:value-of            select = "@refidx"/>
      </xsl:otherwise> 
     </xsl:choose>  	    
	    	
     <xsl:if                    test = "name(../node()[$nextRef])
                                        = 'CitationLink'">
     <xsl:value-of              select = "','"/>
     </xsl:if>            
          
     <xsl:if                    test = "name(../node()[$nextRef])
                                        != 'CitationLink'">
      <xsl:value-of             select = "']'"/>
      </xsl:if>   
   </xsl:if>
      
   </xsl:template>
                          
<!-- ================================================================== 
       Display an Insertion 
     ================================================================== -->
    <xsl:template              match = "Insertion">
     <xsl:choose>
      <xsl:when                 test = "@RevisionLevel='proposed'">
       <b>
       <xsl:apply-templates/>
       </b>
      </xsl:when>
      <xsl:otherwise> 
       <b><u>
       <xsl:apply-templates/>
       </u></b>
      </xsl:otherwise>
     </xsl:choose>
    </xsl:template>

  <!-- ==================================================================
                    Display proposed Deletion 
     ================================================================== -->
    <xsl:template         match = "Deletion"> 
    <xsl:if test="@RevisionLevel='proposed'">
    <strike>
    <xsl:apply-templates/>
    </strike>  
    </xsl:if>
    </xsl:template>      

     <!-- ================================================================
                                Display Comments 
       =============================================================== -->


              <xsl:template          match="Comment">
              <xsl:apply-templates  select="." mode="BU"/>
              </xsl:template>
                             
         <!-- ================================================================
                                Display Notes 
       =============================================================== -->


              <xsl:template          match="Note">
              <xsl:apply-templates  select="." mode="B"/>
              </xsl:template>

   <!-- ==============================================================
                     Display a Glossary Link
       ============================================================== 

         <xsl:template             match = "GlossaryTermRef | LOERef">
         <xsl:choose>
         <xsl:when                 test  = "/Summary/
                                           SummaryMetaData/SummaryAudience =
                                            'Health professionals' 
                                             and 
                                            /Summary/SummaryMetaData/
                                            SummaryLanguage = 'English'">
       <xsl:if                     test  =  "/Summary/SummaryMetaData/
                                             SummaryType !=
                                     'Complementary and alternative medicine'">
                                                   
                                
         <xsl:apply-templates      select = "."  mode = "HPE"/>
         </xsl:if>
         </xsl:when>
         <xsl:when                test="/Summary/SummaryMetaData/SummaryType=
                                      'Complementary and alternative medicine'">
                                                             
                                                 
         <xsl:apply-templates      select = "."  mode = "PE"/>
         </xsl:when>
          <xsl:when                 test  = "/Summary/
                                            SummaryMetaData/SummaryAudience =
                                           'Health professionals' 
                                             and 
                                            /Summary/SummaryMetaData/
                                            SummaryLanguage = 'Spanish'">
                                           
         <xsl:apply-templates      select = "."  mode = "HPS"/>
         </xsl:when>
         <xsl:otherwise>
         <xsl:apply-templates/>
         </xsl:otherwise>
         </xsl:choose>
         </xsl:template>



<!-- ==================================================================
       Don't display any Deletion 
     ================================================================== -->
    <xsl:template        match = "Deletion[@RevisionLevel='approved'] |
                                  Deletion[@RevisionLevel='publish']"/>

   
   
<!-- ================================================================== 
       This template deletes data elements not used in the display 
     ================================================================== -->
    <xsl:template              match = "PdqKey | PDQBoard | SectionType |
                                        Diagnosis | SummaryLanguage |
                                        SummaryType | SummaryAudience | 
                                        SummaryTitle | MainTopics |
                                        SecondaryTopics | DocId |
                                        DateLastModified |PatientVersionOf |
                                        TranslationOf | ReplacementFor"/>
                                        
</xsl:transform>]]>
</CdrDocXml>
</CdrDoc>