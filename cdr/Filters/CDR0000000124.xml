<CdrDoc Type='Filter' Id='CDR0000000124'>
<CdrDocCtl>
<DocValStatus readonly="yes">U</DocValStatus>
<DocActiveStatus readonly="yes">A</DocActiveStatus>
<DocTitle readonly="yes">HP Protocol Citations QC Report Filter</DocTitle>
<ReadyForReview readonly="yes">N</ReadyForReview>
</CdrDocCtl>
<CdrDocXml><![CDATA[<?xml version="1.0"?>
<!-- ===========================================================
      Filter to generate a Protocol Citations QC Report
     ============================================================ -->

<xsl:transform           xmlns:xsl="http://www.w3.org/1999/XSL/Transform"
                           version="1.0"
                         xmlns:cdr="cips.nci.nih.gov/cdr">
   
 <xsl:output method="html"/>

 <!-- ==========================================================
                    Generate the report title and date 
      ========================================================== -->
 <xsl:template match="/">
  
  <!-- <!DOCTYPE HTML PUBLIC '-//IETF//DTD HTML//EN' /> -->
    <HTML>
    <HEAD>
    <xsl:variable name="cdrmydoc" select="document('cdrx:/*/CdrCtl')"/>

    <TITLE><xsl:value-of select="document('cdrutil:/docid')"/>&#xa0;&#xa0;<xsl:value-of select="substring-before($cdrmydoc/CdrDocCtl/DocTitle,';')"/></TITLE>
     <!--
     <LINK REL='stylesheet' 
           HREF='/stylesheets/protocol2.css' 
           TYPE='text/css' /> -->
    </HEAD>
    <BASEFONT FACE='Arial, Helvetica, sans-serif' /> 
    <xsl:apply-templates select="Protocol"/>
    </HTML>
    </xsl:template>
    <xsl:template match="Protocol">
    <BODY>
  
  <b><font size='4'><center>Protocol Citations QC Report</center></font></b>
  <b><font size='3'><center><xsl:value-of select="document('cdrutil:/date/%25B %25#d, %25Y %25#I:%25M%25p')"/></center></font></b><br /><br />


<!-- ====================================================================
      Display CDR ID, Protocol ID ( Primary and Others )
     ==================================================================== -->
 <table>
 <tr>
 <th align='left'>
 <b><font size='3'>DocID </font></b> 
  </th>
  <td>
  <xsl:text>&#xa0;&#xa0;&#xa0;&#xa0;&#xa0;&#xa0;&#xa0;&#xa0;&#xa0;&#xa0;
            &#xa0;&#xa0;&#xa0;&#xa0;&#xa0;&#xa0;&#xa0;&#xa0;&#xa0;
            &#xa0;&#xa0;&#xa0;&#xa0;&#xa0;&#xa0;&#xa0;&#xa0;
  </xsl:text>
  </td>
  <td>
<xsl:value-of              select="@id"/>
 </td>
 </tr>
 </table>
<b><font size='3'>&#xa0;Protocol ID</font></b>
<xsl:text>&#xa0;&#xa0;&#xa0;&#xa0;&#xa0;&#xa0;</xsl:text>
 <table>
  <tr>
  <th align='left'>
  <b>
  <font size='3'>Primary ID
  </font>
  </b>
 </th>
  <td>
  <xsl:text>&#xa0;&#xa0;&#xa0;&#xa0;&#xa0;&#xa0;&#xa0;&#xa0;&#xa0;&#xa0;
            &#xa0;&#xa0;&#xa0;&#xa0;&#xa0;&#xa0;&#xa0;&#xa0;&#xa0;&#xa0;
            
  </xsl:text>
  </td>
  <td>
  <xsl:value-of          select="ProtocolIDs/PrimaryID/IDString"/>
 </td>
 </tr>
 </table>
 <b>
 <font size='3'>Other IDs
 </font>
 </b>
  
  <xsl:text>&#xa0;&#xa0;&#xa0;&#xa0;&#xa0;&#xa0;&#xa0;&#xa0;&#xa0;&#xa0;
            &#xa0;&#xa0;&#xa0;&#xa0;&#xa0;&#xa0;&#xa0;&#xa0;&#xa0;
            &#xa0;&#xa0;&#xa0;
  </xsl:text>
  
  <xsl:for-each select="ProtocolIDs/OtherID">
  <xsl:value-of select="IDString"/>
  <xsl:if test="position()!=last()">,</xsl:if>
  </xsl:for-each>
  
   <br /><br />

<!-- ==============================================================
                       Display Protocol Titles
     =============================================================== -->

<b><font size='4'>Original Protocol Title</font></b><br />
  <xsl:apply-templates           select="ProtocolTitle[@Audience=
                                         'Original']"/>
   <br /><br />
  
<b><font size='4'>Professional Title</font></b><br />
  <xsl:apply-templates          select="ProtocolTitle[@Audience=
                                        'Professional']"/>
  <br /><br />

<!-- ================================================================
                    Display Protocol Chairman
     ================================================================ -->
       <b>
       <font size='4'>Protocol Chairman
        </font>
        </b>
        <xsl:text>&#xa0;&#xa0;&#xa0;
        </xsl:text>

        
        <xsl:for-each                select="ProtocolAdminInfo/
                                             ProtocolLeadOrg/LeadOrgPersonnel/
                                             ProtPerson/PersonNameInformation">
                                       


   <xsl:if test="../../../LeadOrgRole='Primary'">
   <xsl:value-of select="SurName"/>,
   <xsl:value-of select="GivenName"/>
   </xsl:if>
   </xsl:for-each>
   <hr />

<!-- ==============================================================
                Display Published Results/Format Citation 
     =============================================================== -->

<b><i><font size='4'>Published Results</font></i></b><br /><br />

<xsl:for-each select="PublishedResults">

<b>
<font size='3'>Citation ID</font>
</b>
 <xsl:text>&#xa0;&#xa0;&#xa0;&#xa0;&#xa0;&#xa0;&#xa0;&#xa0;
           &#xa0;&#xa0;&#xa0;&#xa0;&#xa0;&#xa0;&#xa0;&#xa0;&#xa0;
           &#xa0;
  </xsl:text>
  <xsl:value-of select="@ref"/>
  <br /><br />
  <xsl:if test="@PMID">
  <b><font size='3'>PUBMED ID</font></b>
  <xsl:text>&#xa0;&#xa0;&#xa0;&#xa0;&#xa0;&#xa0;&#xa0;&#xa0;
           &#xa0;&#xa0;&#xa0;&#xa0;&#xa0;&#xa0;&#xa0;&#xa0;
  </xsl:text>
  <xsl:value-of           select="@PMID"/><br /><br />
  </xsl:if>
  <b><font size='3'>Citation</font></b><br />
  <xsl:value-of               select="."/>
   <br /><br />
    <hr />
   </xsl:for-each>

   </BODY>
   </xsl:template>
  </xsl:transform>]]>
</CdrDocXml>
</CdrDoc>