<?xml version="1.0"?>
 <xsl:transform xmlns:xsl="http://www.w3.org/1999/XSL/Transform"
                version="1.0"
                xmlns:cdr="cips.nci.nih.gov/cdr">
  <xsl:output method="html"/>

  <xsl:template match="/">
   <!-- <!DOCTYPE HTML PUBLIC '-//IETF//DTD HTML//EN' /> -->
   <HTML>
    <HEAD> <!-- LINE 10 -->
     <TITLE>@@DOCID@@</TITLE>
     <!-- META HTTP-EQUIV="Pragma" CONTENT="no-cache" / -->
     <LINK REL='stylesheet' 
           HREF='/stylesheets/term.css' 
           TYPE='text/css' />
    </HEAD>
    <BASEFONT FACE='Arial, Helvetica, sans-serif' />
    <xsl:apply-templates select="Term"/>
   </HTML>
  </xsl:template> <!-- LINE 20 -->

  <xsl:template match='Term'>
   <BODY>
    <HR />
    <H1>Term Document @@DOCID@@</H1>
    <HR />
    <H2><xsl:value-of select="TermName"/></H2>
    <TABLE>
     <TR>
      <TH ALIGN='right' NOWRAP='1'>Term Status:</TH> <!-- LINE 30 -->
      <TD><xsl:value-of select='TermStatus'/></TD>
     </TR>
     <TR>
      <TH ALIGN='right' NOWRAP='1'>Status Date:</TH>
      <TD>
       <xsl:value-of select='concat(substring(TermStatusDate, 1, 10), " ",
                                    substring(TermStatusDate, 12, 8))'/>
      </TD>
     </TR>
     <xsl:for-each select="TermPrimaryType"> <!-- LINE 40 -->
      <TR>
       <TH ALIGN='right' NOWRAP='1' VALIGN='top'>Primary Term Type:</TH>
       <TD><xsl:value-of select="."/></TD>
      </TR>
     </xsl:for-each>
     <xsl:for-each select="TermAlternateType">
      <TR>
       <TH ALIGN='right' NOWRAP='1' VALIGN='top'>Alternate Type:</TH>
       <TD><xsl:value-of select="."/></TD>
      </TR> <!-- LINE 50 -->
     </xsl:for-each>
     <TR>
      <TH ALIGN='right' NOWRAP='1' VALIGN='top'>Upcode Flag:</TH>
      <TD><xsl:value-of select='TermUpcodeFlag'/></TD>
     </TR>
     <TR>
      <TH ALIGN='right' NOWRAP='1' VALIGN='top'>Root Flag:</TH>
      <TD><xsl:value-of select='TermRootFlag'/></TD>
     </TR>
     <xsl:for-each select="TermSynonym"> <!-- LINE 60 -->
      <TR>
       <TH ALIGN='right' NOWRAP='1' VALIGN='top'>Synonym:</TH>
       <TD><xsl:value-of select="."/></TD>
      </TR>
     </xsl:for-each>
     <xsl:for-each select="TermParent">
      <xsl:if test="@Product = 'Cancer Information Product'">
       <TR>
        <TH ALIGN='right' NOWRAP='1' VALIGN='top'>Parent Term:</TH>
        <TD> <!-- LINE 70 -->
         <xsl:variable name='docId' select='@cdr:ref'/>
         <A>
          <xsl:attribute name='HREF'>
           <xsl:value-of select="concat('/cgi-bin/cdr/Filter.py?DocId=', $docId, '&amp;Filter=CDR210817')"/></xsl:attribute><xsl:value-of select="."/></A></TD>
       </TR>
      </xsl:if>
     </xsl:for-each>
     <xsl:for-each select="TermRelatedTerm">
      <xsl:if test="@Product = 'Cancer Information Product'">
       <TR>
        <TH ALIGN='right' NOWRAP='1' VALIGN='top'>
         <xsl:value-of select="concat('Related Term (',
                                      @Relationship, '):')"/>
        </TH>
        <xsl:choose>
         <xsl:when test='@cdr:ref'>
        <TD><A><xsl:attribute name='HREF'><xsl:value-of select="concat('/cgi-bin/cdr/Filter.py?DocId=', @cdr:ref, '&amp;Filter=CDR210817')"/></xsl:attribute><xsl:value-of select="."/></A></TD>
         </xsl:when>
         <xsl:otherwise>
          <TD><xsl:value-of select="."/></TD>
         </xsl:otherwise>
        </xsl:choose> 
       </TR>
      </xsl:if>
     </xsl:for-each>
     <xsl:for-each select="TermDef">
      <TR>
       <TH ALIGN='right' NOWRAP='1' VALIGN='top'>Definition:</TH>
       <TD><xsl:value-of select="."/></TD>
      </TR>
     </xsl:for-each>
    </TABLE>
   </BODY>
  </xsl:template>
 </xsl:transform>