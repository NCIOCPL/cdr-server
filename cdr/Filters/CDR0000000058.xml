<CdrDoc Type='Filter' Id='CDR0000000058'>
<CdrDocCtl>
<DocValStatus readonly="yes">U</DocValStatus>
<DocActiveStatus readonly="yes">A</DocActiveStatus>
<DocTitle readonly="yes">[OBSOLETE] Protocol Filter</DocTitle>
</CdrDocCtl>
<CdrDocXml><![CDATA[<?xml version="1.0"?>
 <xsl:transform xmlns:xsl="http://www.w3.org/1999/XSL/Transform"
                version="1.0"
                xmlns:cdr="cips.nci.nih.gov/cdr">
  <xsl:output method="html"/>

  <xsl:template match="/">
   <!-- <!DOCTYPE HTML PUBLIC '-//IETF//DTD HTML//EN' /> -->
   <HTML>
    <HEAD>
     <TITLE>@@DOCID@@</TITLE>
     <SCRIPT LANGUAGE='JavaScript'>
      <xsl:comment>
       function glossWindow(glossTerm) {
           var url = "http://mmdb2/cgi-bin/cdr/Glossary.py?Term=" + glossTerm;
           w = window.open(url, 'glosswind', 'status=no,width=500,height=250');
           w.focus();
           return false;
       }
      </xsl:comment>
     </SCRIPT>
     <!-- META HTTP-EQUIV="Pragma" CONTENT="no-cache" / -->
     <LINK REL='stylesheet' 
           HREF='/stylesheets/protocol.css' 
           TYPE='text/css' />
    </HEAD>
    <BASEFONT FACE='Arial, Helvetica, sans-serif' />
    <xsl:apply-templates select="Protocol"/>
   </HTML>
  </xsl:template>

  <xsl:template match='Protocol'>
   <BODY>
    <HR />
    <H1>Protocol Document @@DOCID@@</H1>
    <HR />
    <H2><xsl:value-of select="//Protocol/ProtTitle"/></H2>
    <TABLE>
     <xsl:for-each select="//Protocol/ProtId">
      <TR>
       <TH ALIGN='right'>Protocol ID:</TH>
       <TD><xsl:value-of select="ProtIdString"/>
           (<xsl:value-of select="ProtIdType"/>)</TD>
      </TR>
     </xsl:for-each>
     <TR>
      <TH ALIGN='right'>Protocol Status:</TH>
      <TD><xsl:value-of select="ProtStatus"/></TD>
     </TR>
     <TR>
      <TH ALIGN='right'>Protocol Type:</TH>
      <TD><xsl:value-of select="ProtType"/></TD>
     </TR>
     <TR>
      <TH ALIGN='right'>Age Criteria:</TH>
      <TD><xsl:value-of select="ProtAgeCrit"/></TD>
     </TR>
    </TABLE>
    <xsl:apply-templates select="ProtPatAbstr/ProtPatAbstrText"/>
   </BODY>
  </xsl:template>

  <xsl:template match='ProtPatAbstr/ProtPatAbstrText'>
   <HR /><H2>Patient Abstract</H2><HR />
   <xsl:apply-templates select="ProtPatAbstrTextRationale"/>
   <xsl:apply-templates select="ProtPatAbstrTextPurpose"/>
   <xsl:apply-templates select="ProtPatAbstrTextElig"/>
   <xsl:apply-templates select="ProtPatAbstrTextTreatment"/>
  </xsl:template>

  <xsl:template match='ProtPatAbstrTextRationale'>
   <H3>Rationale</H3>
   <xsl:call-template name="inlineMarkup"/>
  </xsl:template>

  <xsl:template match='ProtPatAbstrTextPurpose'>
   <H3>Purpose</H3>
   <xsl:call-template name="inlineMarkup"/>
  </xsl:template>

  <xsl:template match='ProtPatAbstrTextElig'>
   <H3>Eligibility Criteria</H3>
   <UL>
    <xsl:for-each select='ProtPatAbstrTextEligCrit'>
     <LI><xsl:value-of select="."/></LI>
    </xsl:for-each>
   </UL>
  </xsl:template>

  <xsl:template match='ProtPatAbstrTextTreatment'>
   <H3>Treatment</H3>
   <xsl:call-template name="inlineMarkup"/>
  </xsl:template>

  <xsl:template name='inlineMarkup'>
   <xsl:for-each select="node()">
    <xsl:choose>
     <xsl:when test="self::Gloss">
      <xsl:element name="A">
       <xsl:attribute name='HREF'>javascript:void(0)</xsl:attribute>
       <xsl:attribute name='ONCLICK'>
        glossWindow('<xsl:value-of select="@cdr:href"/>'); return false;
       </xsl:attribute>
       <xsl:value-of select="."/>
      </xsl:element>
     </xsl:when>
     <xsl:otherwise>
      <xsl:value-of select="."/>
     </xsl:otherwise>
    </xsl:choose>
   </xsl:for-each>
  </xsl:template>

 </xsl:transform>]]>
</CdrDocXml>
</CdrDoc>