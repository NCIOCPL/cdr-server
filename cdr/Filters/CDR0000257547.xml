<CdrDoc Type='Filter' Id='CDR0000257547'>
<CdrDocCtl>
<DocValStatus readonly="yes">U</DocValStatus>
<DocActiveStatus readonly="yes">A</DocActiveStatus>
<DocTitle readonly="yes">Denormalization Filter:(6/6)Summary</DocTitle>
<ReadyForReview readonly="yes">N</ReadyForReview>
</CdrDocCtl>
<CdrDocXml><![CDATA[<?xml version="1.0"?>

<xsl:transform                xmlns:xsl = "http://www.w3.org/1999/XSL/Transform"
                                version = "1.0"
                              xmlns:cdr = "cips.nci.nih.gov/cdr">
 <xsl:output                     method = "xml" 
                   omit-xml-declaration = "no"/>

 <!-- ==================================================================
        Change ProtocolLink to CitationLink
      ================================================================== -->
 <xsl:template                    match = "ProtocolLink">
  <xsl:variable                    name = "Pkey" 
                                 select = "@PdqKey"/>
  <xsl:variable                    name = "cdr" 
                                 select = "@cdr:ref"/>
  <xsl:variable                    name = "ref" 
                                 select = "@refidx"/>

  <CitationLink                  PdqKey = '{$Pkey}' 
                                cdr:ref = '{$cdr}' 
                                 refidx = '{$ref}'>
   <xsl:value-of                 select = "."/>
  </CitationLink>
 </xsl:template>

 <!-- ===================================================================
      Template rule used to do XML to XML transformations which
      copies any attribute node, or node that is child of of something 
      =================================================================== -->
 <xsl:template                    match = "@*|node()">
  <xsl:copy>
   <xsl:apply-templates          select = "@*"/>
   <xsl:apply-templates/>
  </xsl:copy> 
 </xsl:template>
           
 </xsl:transform>]]>
</CdrDocXml>
</CdrDoc>