<?xml version="1.0" encoding="UTF-8" ?>

<!-- 
      $Id: InScopeProtocol.xml,v 1.57 2005-09-30 13:34:59 bkline Exp $

      $Log: not supported by cvs2svn $
      Revision 1.56  2005/08/15 15:18:32  venglisc
      Change to SpecialCategory enumarated values. (Bug 1791)

      Revision 1.55  2005/08/10 20:00:20  venglisc
      Added element RelatedPublications. (Bug 1781)

      Revision 1.54  2005/07/22 20:08:20  venglisc
      Removed the hyphen '-' from the previously added value. (Bug 1775)

      Revision 1.53  2005/07/21 21:27:46  venglisc
      Added value 'NCI-grant review' to ReviewApprovalType values. (Bug 1775)

      Revision 1.52  2005/05/05 21:33:30  bkline
      Added OrganizationOrPersonLink type; used it for external sites in
      InScopeProtocol documents.

      Revision 1.51  2005/05/04 21:37:47  bkline
      Made ExternalSite element option at Lakshmi's request.

      Revision 1.50  2005/05/02 15:52:29  bkline
      Made ExternalSitePI option at Sheri's request.

      Revision 1.49  2005/04/12 11:52:45  bkline
      Modifications made for request #1608.

      Revision 1.48  2005/02/01 13:50:32  bkline
      Relaxed constraint on external dates (RSS data does not contain dates
      formatted according to ISO).

      Revision 1.47  2004/12/20 22:18:23  bkline
      Made the ExternalSiteContactName's choice optional.

      Revision 1.46  2004/12/18 14:47:32  bkline
      Made ExternalSiteAddress optional.

      Revision 1.45  2004/12/17 16:18:42  bkline
      We agreed in the Thursday meeting that we will modify the schema to
      make the linking element for the organization required, and populate
      the cdr:ref element with an arbitrary bogus string which will fail
      CDR schema validation when the map table does not find a match for the
      RSS site name.  For the PI, we will change the choice to a sequence,
      leaving the linking element optional, and populating it only when we
      find a match for the person.

      Revision 1.44  2004/10/07 12:22:23  bkline
      Replaced 'rss_ctsu_id' with 'CTEP_institution_code' and 'CTSU_person_id'
      at Lakshmi's request.

      Revision 1.43  2004/09/16 14:35:01  bkline
      Added ExternalSiteContactTitle element as choice.

      Revision 1.42  2004/08/27 15:26:20  bkline
      Added ExternalIDType and capitalized Type attribute of ExternalID.

      Revision 1.41  2004/08/25 11:55:08  bkline
      Made ExternalSitePIID optional.

      Revision 1.40  2004/08/19 20:43:25  bkline
      Added support for sites imported programmatically from external sources.

      Revision 1.39  2004/03/25 13:21:12  bkline
      Added UpdateMode element and new custom validation rule.

      Revision 1.38  2004/01/30 14:32:55  bkline
      Changed ClinicalTrialOffice from OrganizationFramentLink to
      OrganizationLink at Lakshmi's request.

      Revision 1.37  2004/01/14 19:52:37  bkline
      Added new elements, attributes, and valid values requested by Laksmi in
      issue #1035.

      Revision 1.36  2003/12/31 14:23:46  bkline
      Added sponsor NIDCR (request #1022).

      Revision 1.35  2003/11/10 13:20:57  bkline
      Added value "K23" to list of valid values for NIHGrantContractType.

      Revision 1.34  2003/08/15 18:50:57  bkline
      Made ProtocolSpecialCategory multiply-occurring.

      Revision 1.33  2003/01/02 20:13:42  bkline
      Added new valid values for SponsorName type.

      Revision 1.32  2002/10/17 19:45:47  arkd
      "Withdrawn" and "Hold" values added to the ProcessingStatus element.

      Revision 1.31  2002/07/01 15:50:24  arkd
      OrgSiteId type changed to OrgSiteId.
      New complexType OrgSiteId created, based on the OrganizationFragmentLink
      type, but referring to DocIdWithOptionalFragment.

      Revision 1.30  2002/06/28 18:09:57  arkd
      OrgSiteId type changed to DocIdWithOptionalFragment.

      Revision 1.29  2002/06/13 22:28:51  arkd
      'NCI' and 'Medicare' values removed from ReimbursementApprovalType.

      Revision 1.28  2002/06/07 13:55:53  arkd
      All the "string" types changed for "NotEmptyString".

      Revision 1.27  2002/05/21 15:32:44  bkline
      Added Role for PrivatePracticeSite.

      Revision 1.26  2002/05/16 01:16:00  arkd
      SponsorName element type changed from string to SponsorName,
      SponsorName simpleType added.

      Revision 1.25  2002/01/18 00:01:57  ArkD
      RO1,RO3=>R01,R03.

      Revision 1.24  2002/01/17 20:57:06  ArkD
      Value list for NIHGrantContractType: MO1,NO1,PO1=>M01,N01,P01.

      Revision 1.23  2002/01/04 16:11:23  ArkD
      Value lists updated for SourceName, ReviewApprovalType, PersonRole.

      Revision 1.22  2001/12/21 02:19:31  ArkD
      EnterdBy and EntryDate deleted from OrgSite, PrivatePracticeSite,
      SpecificPerson, GenericPerson.

      Revision 1.21  2001/12/21 00:35:11  ArkD
      SCHEMA FROZEN.

      Revision 1.20  2001/12/21 00:19:54  ArkD
      FundingInfo moved after ProtocolSponsors.
      ProtocolPhase and protocolDesign moved before ProtocolDetail.
      FundingInfo choice=>sequence.
      NIHGrantContractType made required.
      Optional Comment added to ProtocolSource.
      LegacyOrgPersonnel deleted.
      OrgStatus commented.
      EnteredBy and EntryDate added to OrgSite.
      EnteredBy and EntryDate added to PrivatePracticeSite.
      ContctInformation sequence=>choice.
      SpecificPerson and GenericPerson made single required.
      EnteredBy and EntryDate added to SpecificPerson and GenericPerson.
      GenericPersonContact made required.
      Value lists updated.

      Revision 1.19  2001/12/19 15:36:04  bkline
      Added optional PdqKey attributes for elements with cdr:id attributes.

      Revision 1.18  2001/12/19 15:02:30  bkline
      Changed ProtocolDetails to ProtocolDetail to match
      CommonProtocolInfo.xml.

      Revision 1.17  2001/12/03 17:03:36  ArkD
      ProtocolSites changed form sequence to choice.
      Site=>OrgSite SiteID=>OrgSiteID SiteStatus=>OrgSiteStatus
      SiteContact=>OrgSiteContact.
      PrivatePracticeSite element added to ProtocolSites.
      complex type PrivatePracticeSite added, containing PrivatePracticeSiteID
      and PrivatePracticeSiteStatus.

      Revision 1.16  2001/11/13 15:14:00  ArkD
      ProtocolDesign made optional.
      OrgStatuses=>LeadOrgProtocolStatuses.
      LegacyOrgPersonnel element added to ProtocolLeadOrg.
      Value lists updated.
      GenericPersonContact type ContactDetail=>Contact.
      GenericPerson made multiple.

      Revision 1.15  2001/10/24 16:20:59  ArkD
      In FundingInfo sequence=>choice.
      DateLastModified added to the root.

      Revision 1.14  2001/10/12 16:36:35  ArkD
      *** empty log message ***

      Revision 1.13  2001/10/12 15:29:35  ArkD
      Optional PDQKey element added to the root.
      Root element 'IdentificationInformation' => 'ProtocolIDs'.

      Revision 1.12  2001/10/10 16:32:09  ArkD
      ProtocolSpecialCategory Comment made optional.
      CoopMemeber attribute moved from ProtocolSites to Site.
      ReimbursementApprovalType made multiple.
      Optional element ProtocolProcessingDetails added to the root.
      ComplexType ProtocolProcessingDetails with subelements ProcessingStatus,
      ProcessingDate (date type), and Comment added.
      SimpleType ProcessingStatus added.
      NIHGrantContract and OtherGrantContractInfo made multiple.
      DateReceived changed from type dateTime to date.

      Revision 1.11  2001/08/31 16:04:51  ArkD
      Element MailAbstractTo moved to ProtocolLeadOrg, type changed to IDREF.
      Attribute cdr:id added to LeadOrgPersonnel.
      CurrentProtocolStatus added to the ProtocolAdminInfo.
      OrgStatuses complex element containing Current and Previous org Statuses
      added to ProtocolLeadOrg.

      Revision 1.10  2001/08/23 13:52:41  ArkD
      *** empty log message ***

      Revision 1.9  2001/08/22 17:09:56  ArkD
      ProtocolSpecificContact moved up.
      SpecificPhone made optional.
      ProtocolSpecialCategory made optional.
      LeadOrgProtocolId made multiple.
      SponsorName made multiple.
      Links sorted out.
      Multiple protocol sources allowed.

      Revision 1.8  2001/08/14 21:19:15  bkline
      Added namespace declaration for cdr namespace.

      Revision 1.7  2001/07/13 14:50:03  ArkD
      ProtocolSites moved from ProtocolAdminInfo into ProtocolLeadOrg.

      Revision 1.6  2001/07/09 20:19:46  ArkD
      Optional attribute 'MailAbstractTo' (type 'No') added to 
      'ProtocolPersonnel'.
      'ProtocolPersonnel' renamed into 'LeadOrgPersonnel'.
      Optional attribute 'Public' (type 'No') added to 'LeadOrgPersonnel'.
      'PersonRole' made multiple.
      Optional 'CoopMember' attribute added to 'ProtocolSites'.
      simpleType 'CoopMember' (values:'Main' & 'Affiliate') created.
      'Organization' renamed into 'Site', 'OrgID' into 'SiteID',
      'OrganizationStatus' into 'SiteStatus', 'OrganizationContact' into
      'SiteContact'.
      'ReimbursementApproval' made optional, spelling corrected.
      'PublishedResults' made multiple.
      'ProtocolPhase' made multiple.

      Revision 1.5  2001/07/09 16:08:46  ArkD
      'ProtocolAmendments' renamed into 'ProtocolAmendmentInformation'.
      'FundingInformation' changed to incorporate 'OtherGrantContrctInfo'.
      Protocol Statuses deleted.
      'DatedAction' added to the 'ProtocolAdminInfo'.
      'OrganizationID' renamed into 'LeadOrganizationID',
      'OrgRole' to 'LeadOrgRole',
      'OrgStatus' to 'LeadOrgProtocolStatus',
      'ProtocolIDString' to 'LeadOrgProtocolID'.
      'UpdateGroup' deleted.
      Attribute 'Group' (type YesNo) added to 'ProtocolLeadOrg'.
      'ProtocolContact' renamed into 'ProtocolSpecificContact'.

      Revision 1.4  2001/06/29 17:12:20  bkline
      Added namespace declaration for cdr namespace.

      Revision 1.3  2001/06/27 13:59:30  bkline
      Upgraded to latest schema syntax.

      Revision 1.2  2001/05/03 13:27:13  bkline
      Split schema into three parts.

      Revision 1.1  2001/05/01 18:03:31  bkline
      Initial revision

  -->

<schema              xmlns           = 'http://www.w3.org/2001/XMLSchema'
                     xmlns:cdr       = 'cips.nci.nih.gov/cdr'>

 <annotation>
  <appInfo>
   <pattern>
    <rule            context         = 'ProtocolLeadOrg'>
     <assert         test            = 'LeadOrgRole = "Primary" or
                                        not(UpdateMode
                                            [@MailerType =
                                              "Protocol_Abstract"])'
     >UpdateMode for prot. abstract only allowed for Primary Lead Org</assert>
     <assert         test            = 'LeadOrgRole = "Primary" or
                                        not(MailAbstractTo)'
     >MailAbstractTo only allowed for Primary Lead Org</assert>
     <assert         test            = 'LeadOrgRole != "Primary" or
                                        MailAbstractTo'
     >MailAbstractTo required for Primary Lead Org</assert>
    </rule>
   </pattern>
  </appInfo>
 </annotation>

<!--=====================================================================-->
<!--                  COMMON CDR SCHEMA COMPONENTS                       -->
<!--=====================================================================-->
  <include           schemaLocation  = 'CdrCommonSchema.xml'/>
  <include           schemaLocation  = 'CommonProtocolInfo.xml'/>

<!--=====================================================================-->
<!--                   TOP-LEVEL DOCUMENT ELEMENT                        -->
<!--=====================================================================-->
  <element           name            = 'InScopeProtocol'
                     type            = 'InScopeProtocol'/>

<!--=====================================================================-->
<!--                          DOCUMENT TYPE                              -->
<!--=====================================================================-->
  <complexType       name            = 'InScopeProtocol'>
    <sequence>
      <element       name            = 'ProtocolIDs'
                     type            = 'ProtocolIDs'/>
      <element       name            = 'ProtocolSources'
                     type            = 'ProtocolSources'/>
      <element       name            = 'ProtocolApproval'
                     type            = 'ProtocolApproval'/>
      <element       name            = 'OversightInfo'
                     type            = 'OversightInfo'
                     minOccurs       = '0'/>
      <element       name            = 'ProtocolSponsors'
                     type            = 'ProtocolSponsors'
                     minOccurs       = '0'/>
      <element       name            = 'FundingInfo'
                     type            = 'FundingInfo'
                     minOccurs       = '0'/>
      <element       name            = 'FDAINDInfo'
                     type            = 'FDAINDInfo'
                     minOccurs       = '0'/>
      <element       name            = 'ProtocolAmendmentInformation'
                     type            = 'ProtocolAmendmentInformation'
                     minOccurs       = '0'
                     maxOccurs       = 'unbounded'/>
      <element       name            = 'ProtocolTitle'
                     type            = 'ProtocolTitle'
                     maxOccurs       = '3'/>
      <element       name            = 'ProtocolAbstract'
                     type            = 'ProtocolAbstract'/>
      <element       name            = 'ProtocolPhase'
                     type            = 'ProtocolPhase'
                     maxOccurs       = 'unbounded'/>
      <element       name            = 'ExpectedEnrollment'
                     type            = 'integer'/>
      <element       name            = 'ProtocolDesign'
                     type            = 'ProtocolDesign'
                     minOccurs       = '0'
                     maxOccurs       = 'unbounded'/>
      <element       name            = 'ProtocolDetail'
                     type            = 'ProtocolDetail'
                     maxOccurs       = 'unbounded'/>
      <element       name            = 'Eligibility'
                     type            = 'Eligibility'/>
      <element       name            = 'ProtocolRelatedLinks'
                     type            = 'ProtocolRelatedLinks'
                     minOccurs       = '0'/>
      <element       name            = 'PublishedResults'
                     type            = 'PublishedResults'
                     minOccurs       = '0'
                     maxOccurs       = 'unbounded'/>
      <element       name            = 'RelatedPublications'
                     type            = 'RelatedPublications'
                     minOccurs       = '0'
                     maxOccurs       = 'unbounded'/>
      <element       name            = 'ProtocolSpecialCategory'
                     type            = 'ProtocolSpecialCategory'
                     minOccurs       = '0'
                     maxOccurs       = 'unbounded'/>
      <element       name            = 'ProtocolAdminInfo'
                     type            = 'ProtocolAdminInfo'/>
      <element       name            = 'ProtocolProcessingDetails'
                     type            = 'ProtocolProcessingDetails'
                     minOccurs       = '0'/>
      <element       name            = 'VerificationInfo'
                     type            = 'VerificationInfo'
                     minOccurs       = '0'/>
      <element       name            = 'DateLastModified'
                     type            = 'date'
                     minOccurs       = '0'/>
      <element       name            = 'RelatedDocuments'
                     type            = 'RelatedDocuments'
                     minOccurs       = '0'/>
      <element       name            = 'PdqKey'
                     type            = 'NotEmptyString'
                     minOccurs       = '0'/>
    </sequence>
    <attribute       name            = 'xmlns:cdr'
                     type            = 'anyURI'
                     minOccurs       = '0'/>
  </complexType>

<!--=====================================================================-->
<!--                       OTHER COMPLEX TYPES                           -->
<!--=====================================================================-->
  <complexType       name            = 'FundingInfo'>
    <sequence>
      <element       name            = 'NIHGrantContract'
                     type            = 'NIHGrantContract'
                     maxOccurs       = 'unbounded'
                     minOccurs       = '0'/>
      <element       name            = 'OtherGrantContractInfo'
                     type            = 'OtherGrantContractInfo'
                     maxOccurs       = 'unbounded'
                     minOccurs       = '0'/>
    </sequence>
  </complexType>

  <complexType       name            = 'FDAINDInfo'>
    <sequence>
      <element       name            = 'INDGrantor'
                     type            = 'INDGrantor'/>
      <element       name            = 'INDNumber'
                     type            = 'NotEmptyString'/>
      <element       name            = 'INDSerialNumber'
                     type            = 'NotEmptyString'
                     minOccurs       = '0'/>
    </sequence>
  </complexType>

  <complexType       name            = 'NIHGrantContract'>
    <sequence>
      <element       name            = 'NIHGrantContractType'
                     type            = 'NIHGrantContractType'/>
      <element       name            = 'GrantContractNo'
                     type            = 'NotEmptyString'/>
      <element       name            = 'Comment'
                     type            = 'NotEmptyString'
                     minOccurs       = '0'/>
    </sequence>
  </complexType>

  <complexType       name            = 'OtherGrantContractInfo'>
    <sequence>
      <element       name            = 'GrantContractNo'
                     type            = 'NotEmptyString'/>
      <element       name            = 'Comment'
                     type            = 'NotEmptyString'
                     minOccurs       = '0'/>
    </sequence>
  </complexType>

  <complexType       name            = 'ProtocolSources'>
    <sequence>
      <element       name            = 'ProtocolSource'
                     type            = 'ProtocolSource'
                     maxOccurs       = 'unbounded'/>
    <!--Do not rename-->
    </sequence>
  </complexType>

  <complexType       name            = 'ProtocolSource'>
    <sequence>
      <element       name            = 'SourceName'
                     type            = 'SourceName'/>
      <element       name            = 'DateReceived'
                     type            = 'date'/>
      <element       name            = 'DateSubmissionComplete'
                     type            = 'date'
                     minOccurs       = '0'/>
      <element       name            = 'MergeByDate'
                     type            = 'date'
                     minOccurs       = '0'/>
      <element       name            = 'Comment'
                     type            = 'NotEmptyString'
                     minOccurs       = '0'/>
    </sequence>
  </complexType>

  <complexType       name            = 'ProtocolApproval'>
    <sequence>
      <element       name            = 'ReviewApprovalType'
                     type            = 'ReviewApprovalType'/>
      <element       name            = 'ReimbursementApprovalType'
                     type            = 'ReimbursementApprovalType'
                     maxOccurs       = 'unbounded'
                     minOccurs       = '0'/>
      <element       name            = 'VoluntaryReview'
                     type            = 'VoluntaryReview'
                     maxOccurs       = 'unbounded'
                     minOccurs       = '0'/>
      <element       name            = 'Comment'
                     type            = 'NotEmptyString'
                     minOccurs       = '0'/>
    </sequence>
  </complexType>

  <complexType       name            = 'ProtocolSponsors'>
    <sequence>
      <element       name            = 'SponsorName'
                     type            = 'SponsorName'
                     maxOccurs       = 'unbounded'/>
      <element       name            = 'Comment'
                     type            = 'NotEmptyString'
                     minOccurs       = '0'/>
    </sequence>
  </complexType>

  <complexType       name            = 'ProtocolSpecialCategory'>
    <sequence>
      <element       name            = 'SpecialCategory'
                     type            = 'SpecialCategory'/>
      <element       name            = 'Comment'
                     type            = 'NotEmptyString'
                     minOccurs       = '0'/>
    </sequence>
  </complexType>

  <complexType       name            = 'ProtocolAdminInfo'>
    <sequence>
      <element       name            = 'StartDate'
                     type            = 'ProtocolStartDate'
                     minOccurs       = '0'
                     maxOccurs       = '2'/>
      <element       name            = 'CurrentProtocolStatus'
                     type            = 'NotEmptyString'/>

      <!-- Calculated based on the status of the protocol at the 
           various lead orgs 
        -->
      <element       name            = 'ProtocolLeadOrg'
                     type            = 'ProtocolLeadOrg'
                     maxOccurs       = 'unbounded'/>
      <element       name            = 'ExternalSites'
                     type            = 'ExternalSites'
                     minOccurs       = '0'
                     maxOccurs       = 'unbounded'/>
      <element       name            = 'DatedAction'
                     type            = 'DatedAction'
                     minOccurs       = '0'
                     maxOccurs       = 'unbounded'/>
    </sequence>
  </complexType>

  <complexType       name            = 'ExternalSites'>
    <sequence>
      <element       name            = 'ExternalSite'
                     type            = 'ExternalSite'
                     minOccurs       = '0'
                     maxOccurs       = 'unbounded'/>
    </sequence>
    <attribute       name            = 'Source'
                     type            = 'ExternalSiteSource'/>
    <attribute       name            = 'Received'
                     type            = 'date'/>
  </complexType>

  <complexType       name            = 'ExternalSite'>
    <sequence>
      <element       name            = 'ExternalSiteOrg'
                     type            = 'ExternalSiteOrg'/>
      <element       name            = 'ExternalSiteRegDate'
                     type            = 'NotEmptyString'/>
      <element       name            = 'ExternalSiteRegStatus'
                     type            = 'ExternalSiteRegStatus'
                     minOccurs       = '0'/>
      <element       name            = 'ExternalSiteAddress'
                     type            = 'PostalAddress'
                     minOccurs       = '0'/>
      <element       name            = 'ExternalSitePI'
                     type            = 'ExternalSitePI'
                     minOccurs       = '0'/>
      <element       name            = 'ExternalSiteContact'
                     type            = 'ExternalSiteContact'
                     minOccurs       = '0'/>
    </sequence>
  </complexType>

  <complexType       name            = 'ExternalSiteOrg'>
    <sequence>
      <element       name            = 'ExternalSiteOrgID'
                     type            = 'OrganizationOrPersonLink'/>
      <element       name            = 'ExternalSiteName'
                     type            = 'string'/>
      <element       name            = 'ExternalID'
                     type            = 'ExternalID'
                     minOccurs       = '0'
                     maxOccurs       = 'unbounded'/>
    </sequence>
  </complexType>

  <complexType       name            = 'ExternalSitePI'>
    <sequence>
      <element       name            = 'ExternalSitePIID'
                     type            = 'PersonLink'
                     minOccurs       = '0'/>
      <element       name            = 'ExternalSitePIName'
                     type            = 'ExternalPersonName'/>
      <element       name            = 'ExternalSitePIPhone'
                     type            = 'string'
                     minOccurs       = '0'
                     maxOccurs       = 'unbounded'/>
      <element       name            = 'ExternalID'
                     type            = 'ExternalID'
                     minOccurs       = '0'
                     maxOccurs       = 'unbounded'/>
    </sequence>
  </complexType>

  <complexType       name            = 'ExternalSiteContact'>
    <sequence>
      <choice        minOccurs       = '0'>
        <element     name            = 'ExternalSiteContactName'
                     type            = 'ExternalPersonName'/>
        <element     name            = 'ExternalSiteContactTitle'
                     type            = 'NotEmptyString'/>
      </choice>
      <element       name            = 'ExternalSiteContactPhone'
                     type            = 'string'
                     minOccurs       = '0'
                     maxOccurs       = 'unbounded'/>
    </sequence>
  </complexType>

  <complexType       name            = 'ExternalPersonName'>
    <sequence>
      <element       name            = 'PersonFirstName'
                     type            = 'string'
                     minOccurs       = '0'/>
      <element       name            = 'PersonMiddleName'
                     type            = 'string'
                     minOccurs       = '0'/>
      <element       name            = 'PersonLastName'
                     type            = 'string'/>
      <element       name            = 'PersonSuffix'
                     type            = 'string'
                     minOccurs       = '0'
                     maxOccurs       = 'unbounded'/>
    </sequence>
  </complexType>

  <complexType       name            = 'ExternalID'>
    <simpleContent>
      <extension     base            = 'NotEmptyString'>
        <attribute   name            = 'Type'
                     type            = 'ExternalIDType'/>
      </extension>
    </simpleContent>
  </complexType>

  <complexType       name            = 'ProtocolLeadOrg'>
    <sequence>
      <element       name            = 'LeadOrganizationID'
                     type            = 'OrganizationLink'/>
      <element       name            = 'LeadOrgRole'
                     type            = 'PrimarySecondary'/>
      <element       name            = 'LeadOrgProtocolID'
                     type            = 'NotEmptyString'
                     maxOccurs       = 'unbounded'/>
      <element       name            = 'LeadOrgProtocolStatuses'
                     type            = 'LeadOrgProtocolStatuses'/>
      <element       name            = 'LeadOrgPersonnel'
                     type            = 'LeadOrgPersonnel'
                     maxOccurs       = 'unbounded'/>
      <element       name            = 'OverallContact'
                     type            = 'GenericPerson'
                     minOccurs       = '0'/>
      <element       name            = 'ProtocolSites'
                     type            = 'ProtocolSites'
                     minOccurs       = '0'/>
      <element       name            = 'MailAbstractTo'
                     type            = 'IDREF'
                     minOccurs       = '0'/>
      <!--If LeadOrgRole=Primary MailAbstractTo should be required-->
      <element       name            = 'UpdateMode'
                     type            = 'UpdateMode'
                     minOccurs       = '0'
                     maxOccurs       = '2'/>
    </sequence>
    <attribute       name            = 'Group'
                     type            = 'YesNo'/>
  </complexType>

  <complexType       name            = 'LeadOrgProtocolStatuses'>
    <sequence>
      <element       name            = 'CurrentOrgStatus'
                     type            = 'OrgStatus'/>
      <element       name            = 'PreviousOrgStatus'
                     type            = 'OrgStatus'
                     minOccurs       = '0'
                     maxOccurs       = 'unbounded'/>
    </sequence>
  </complexType>

  <complexType       name            = 'OrgStatus'>
  <!--Refers to Lead Org Status-->
    <sequence>
      <element       name            = 'StatusName'
                     type            = 'ProtocolStatusName'/>
      <element       name            = 'StatusDate'
                     type            = 'date'/>
      <element       name            = 'Comment'
                     type            = 'NotEmptyString'
                     minOccurs       = '0'/>
      <element       name            = 'EnteredBy'
                     type            = 'NotEmptyString'/>
      <element       name            = 'EntryDate'
                     type            = 'date'/>
    </sequence>
  </complexType>

  <complexType       name            = 'LeadOrgPersonnel'>
    <sequence>
      <element       name            = 'Person'
                     type            = 'PersonFragmentLink'/>
      <element       name            = 'ProtocolSpecificContact'
                     type            = 'ContactDetail'
                     minOccurs       = '0'/>
      <element       name            = 'PersonRole'
                     type            = 'ProtocolPersonRole'
                     maxOccurs       = 'unbounded'/>
    </sequence>
    <attribute       name            = 'Public'
                     type            = 'No'
                     minOccurs       = '0'/>
    <attribute       name            = 'cdr:id'
                     type            = 'NotEmptyString'/>
    <attribute       name            = 'PdqKey'
                     type            = 'NotEmptyString'
                     minOccurs       = '0'/>
  </complexType>

  <complexType       name            = 'ProtocolSites'>
    <choice          maxOccurs       = 'unbounded'>
      <element       name            = 'OrgSite'
                     type            = 'OrgSite'/>
      <element       name            = 'PrivatePracticeSite'
                     type            = 'PrivatePracticeSite'/>
    </choice>
    <attribute       name            = 'SuppressContactInformation'
                     type            = 'Yes'
                     minOccurs       = '0'/>
  </complexType>

  <complexType       name            = 'OrgSite'>
    <sequence>
      <element       name            = 'OrgSiteID'
                     type            = 'OrgSiteID'/>
      <element       name            = 'OrgSiteStatus'
                     type            = 'ProtocolStatusName'/>
      <element       name            = 'OrgSiteContact'
                     type            = 'ContactInformation'/>
    </sequence>
    <attribute       name            = 'CoopMember'
                     type            = 'CoopMember'
                     minOccurs       = '0'/>
    <attribute       name            = 'SuppressContactInformation'
                     type            = 'Yes'
                     minOccurs       = '0'/>
  </complexType>

  <complexType       name            = 'OrgSiteID'>
    <simpleContent>
      <extension     base            = 'NotEmptyString'>
        <attribute   name            = 'cdr:ref'
                     type            = 'DocIdWithOptionalFragment'
                     minOccurs       = '0'/>
        <attribute   name            = 'PdqKey'
                     type            = 'NotEmptyString'
                     minOccurs       = '0'/>
      </extension>
    </simpleContent>
  </complexType>


  <complexType       name            = 'PrivatePracticeSite'>
    <sequence>
      <element       name            = 'PrivatePracticeSiteID'
                     type            = 'PersonFragmentLink'/>
      <element       name            = 'Role'
                     type            = 'SpecificPersonRole'/>
      <element       name            = 'SpecificPhone'
                     type            = 'NotEmptyString'
                     minOccurs       = '0'/>
      <element       name            = 'PrivatePracticeSiteStatus'
                     type            = 'ProtocolStatusName'/>
    </sequence>
    <attribute       name            = 'CoopMember'
                     type            = 'CoopMember'
                     minOccurs       = '0'/>
    <attribute       name            = 'SuppressContactInformation'
                     type            = 'Yes'
                     minOccurs       = '0'/>
  </complexType>

  <complexType       name            = 'ContactInformation'>
    <choice          maxOccurs       = 'unbounded'>
      <element       name            = 'SpecificPerson'
                     type            = 'SpecificPerson'/>
      <element       name            = 'GenericPerson'
                     type            = 'GenericPerson'/>
      <element       name            = 'ClinicalTrialOffice'
                     type            = 'OrganizationLink'/>
    </choice>
  </complexType>

  <complexType       name            = 'SpecificPerson'>
    <sequence>
      <element       name            = 'Person'
                     type            = 'PersonFragmentLink'/>
      <element       name            = 'Role'
                     type            = 'SpecificPersonRole'/>
      <element       name            = 'SpecificPhone'
                     type            = 'NotEmptyString'
                     minOccurs       = '0'/>
      <element       name            = 'SpecificEmail'
                     type            = 'Email'
                     minOccurs       = '0'/>
    </sequence>
  </complexType>

  <complexType       name            = 'GenericPerson'>
    <sequence>
      <element       name            = 'PersonTitle'
                     type            = 'NotEmptyString'/>
      <element       name            = 'GenericPersonContact'
                     type            = 'Contact'/>
    </sequence>
  </complexType>

  <complexType       name            = 'ProtocolProcessingDetails'>
    <sequence>
      <element       name            = 'ProcessingStatus'
                     type            = 'ProcessingStatus'/>
      <element       name            = 'EnteredBy'
                     type            = 'NotEmptyString'/>
      <element       name            = 'ProcessingDate'
                     type            = 'date'/>
      <element       name            = 'Comment'
                     type            = 'NotEmptyString'
                     minOccurs       = '0'/>
    </sequence>
  </complexType>

  <complexType       name            = 'RelatedDocuments'>
    <sequence>
      <element       name            = 'SupplementaryInfoLink'
                     type            = 'SupplementaryInfoLink'
                     minOccurs       = '0'
                     maxOccurs       = 'unbounded'/>
      <element       name            = 'WarehouseBoxNumber'
                     type            = 'NonEmptyString'
                     minOccurs       = '0'/>
    </sequence>
  </complexType>

  <complexType       name            = 'IRBInfo'>
    <sequence>
      <element       name            = 'IRBApproved'
                     type            = 'YesNo'/>
      <element       name            = 'IRBApprovalForm'
                     type            = 'SupplementaryInfoLink'/>
                     minOccurs       = '0'/>
    </sequence>
  </complexType>

  <complexType       name            = 'ProtocolStartDate'>
    <simpleContent>
      <extension     base            = 'date'>
        <attribute   name            = 'DateType'
                     type            = 'ProtocolStartDateType'/>
      </extension>
    </simpleContent>
  </complexType>

  <complexType       name            = 'OversightInfo'>
    <sequence>
      <element       name            = 'RegulatoryAuthority'
                     type            = 'NonEmptyString'
                     maxOccurs       = 'unbounded'/>
      <element       name            = 'IRBInfo'
                     type            = 'IRBInfo'/>
    </sequence>
  </complexType>

  <complexType       name            = 'VerificationInfo'>
    <sequence>
      <element       name            = 'VerificationDate'
                     type            = 'date'/>
      <element       name            = 'Comment'
                     type            = 'NotEmptyString'/>
      <element       name            = 'EnteredBy'
                     type            = 'NotEmptyString'/>
    </sequence>
  </complexType>

  <complexType       name            = 'VoluntaryReview'>
    <sequence>
      <element       name            = 'ReviewStatus'
                     type            = 'VoluntaryReviewStatus'/>
      <element       name            = 'ReviewStatusDate'
                     type            = 'date'/>
      <element       name            = 'Reviewer'
                     type            = 'PersonLink'/>
      <element       name            = 'DateSentForReview'
                     type            = 'date'/>
      <element       name            = 'DueDate'
                     type            = 'date'/>
      <element       name            = 'Comment'
                     type            = 'NotEmptyString'/>
      <element       name            = 'EnteredBy'
                     type            = 'NotEmptyString'/>
    </sequence>
  </complexType>

<!--=====================================================================-->
<!--                           SIMPLE TYPES                              -->
<!--=====================================================================-->
  <simpleType        name            = 'NIHGrantContractType'>
    <restriction     base            = 'NotEmptyString'>
      <enumeration   value           = 'K23'/>
      <enumeration   value           = 'M01'/>
      <enumeration   value           = 'N01'/>
      <enumeration   value           = 'P01'/>
      <enumeration   value           = 'P30'/>
      <enumeration   value           = 'P50'/>
      <enumeration   value           = 'R01'/>
      <enumeration   value           = 'R03'/>
      <enumeration   value           = 'R13'/>
      <enumeration   value           = 'R21'/>
      <enumeration   value           = 'R24'/>
      <enumeration   value           = 'R29'/>
      <enumeration   value           = 'R35'/>
      <enumeration   value           = 'R37'/>
      <enumeration   value           = 'R43'/>
      <enumeration   value           = 'R44'/>
      <enumeration   value           = 'R55'/>
      <enumeration   value           = 'U01'/>
      <enumeration   value           = 'U10'/>
      <enumeration   value           = 'No type assigned'/>
    </restriction>
  </simpleType>

  <simpleType        name            = 'SourceName'>
    <restriction     base            = 'NotEmptyString'>
      <enumeration   value           = 'NCI-CTEP'/>
      <enumeration   value           = 'NCI-DCP'/>
      <enumeration   value           = 'NCI-CCR'/>
      <enumeration   value           = 'NCI designated Cancer Center'/>
      <enumeration   value           = 'NCI Liaison Office-Brussels'/>
      <enumeration   value           = 'Other NIH Institute'/>
      <enumeration   value           = 'National Cancer Institute of Canada'/>
      <enumeration   value           = 'Industry email submission'/>
      <enumeration   value           = 'Industry mail submission'/>
      <enumeration   value           = 'Industry web submission'/>
      <enumeration   value           = 'Investigator/contact email submission'/>
      <enumeration   value           = 'Investigator/contact mail submission'/>
      <enumeration   value           = 'Investigator/contact web submission'/>
      <enumeration   value           = 'Legacy'/>
    </restriction>
  </simpleType>

  <simpleType        name            = 'ReviewApprovalType'>
    <restriction     base            = 'NotEmptyString'>
      <enumeration   value           = 'NCI CTEP review'/>
      <enumeration   value           = 'NCI DCP review'/>
      <enumeration   value           = 'NCI CCR review'/>
      <enumeration   value           = 'NCI grant review'/>
      <enumeration   value           = 'PRMS review'/>
      <enumeration   value           = 'PDQ Editorial Board review'/>
      <enumeration   value           = 'Other NIH Institute review'/>
      <enumeration   value           = 'FDA IND review'/>
      <enumeration   value           = 'NCIC review'/>
      <enumeration   value           = 'EORTC review'/>
      <enumeration   value           = 'MRC review'/>
      <enumeration   value           = 'CRC review'/>
      <enumeration   value           = 'FCC review'/>
      <enumeration   value           = 'SAKK review'/>
      <enumeration   value           = 'Technical University Munich review'/>
      <enumeration   value           = 'PDQ Brussels Editorial Board review'/>
      <enumeration   value           = 'Needs manual review'/>
    </restriction>
  </simpleType>

  <simpleType        name            = 'ReimbursementApprovalType'>
    <restriction     base            = 'NotEmptyString'>
      <enumeration   value           = 'New Jersey'/>
    </restriction>
  </simpleType>

  <simpleType        name            = 'SpecialCategory'>
    <restriction     base            = 'NotEmptyString'>
      <enumeration   value           = 'Group C-Treatment IND trial'/>
      <enumeration   value           = 'CTSU trial'/>
      <enumeration   value           = 'Treatment Referral Center (TRC) trial'/>
      <enumeration   value           = 'NCI high priority trial'/>
      <enumeration   value           = 'Expanded access trial'/>
      <enumeration   value           = 'NIH Clinical Center trial'/>
      <enumeration   value           = 'SPORE trial'/>
      <enumeration   value           = 'NCI Avon award trial'/>
      <enumeration   value           = 'NCI Web site featured trial'/>
    </restriction>
  </simpleType>

  <simpleType        name            = 'ProtocolStatusName'>
    <restriction     base            = 'NotEmptyString'>
      <enumeration   value           = 'Active'/>
      <enumeration   value           = 'Approved-not yet active'/>
      <enumeration   value           = 'Temporarily closed'/>
      <enumeration   value           = 'Closed'/>
      <enumeration   value           = 'Completed'/>
      <enumeration   value           = 'Withdrawn'/>
      <enumeration   value           = 'Withdrawn from PDQ'/>
    </restriction>
  </simpleType>

  <simpleType        name            = 'ProtocolPersonRole'>
    <restriction     base            = 'NotEmptyString'>
      <enumeration   value           = 'Update person'/>
      <enumeration   value           = 'Protocol chair'/>
      <enumeration   value           = 'Protocol co-chair'/>
      <enumeration   value           = 'Research coordinator'/>
      <enumeration   value           = 'Study coordinator'/>
      <enumeration   value           = 'Principal investigator'/>
    </restriction>
  </simpleType>

  <simpleType        name            = 'SpecificPersonRole'>
    <restriction     base            = 'NotEmptyString'>
      <enumeration   value           = 'Principal investigator'/>
      <enumeration   value           = 'Research coordinator'/>
      <enumeration   value           = 'Study coordinator'/>
      <enumeration   value           = 'Contact person'/>
      <enumeration   value           = 'Research nurse'/>
      <enumeration   value           = 'Protocol co-chair'/>
    </restriction>
  </simpleType>

  <simpleType        name            = 'CoopMember'>
    <restriction     base            = 'NotEmptyString'>
      <enumeration   value           = 'Main'/>
      <enumeration   value           = 'Affiliate'/>
    </restriction>
  </simpleType>

  <simpleType        name            = 'ProcessingStatus'>
    <restriction     base            = 'string'>
      <enumeration   value           = 'Disapproved by PDQ Editorial Board'/>
      <enumeration   value           = 'Approved by PDQ Editorial Board'/>
      <enumeration   value           = 'Under PDQ Editorial Board review'/>
      <enumeration   value           = 'Processing complete'/>
      <enumeration   value           = 'Pending'/>
      <enumeration   value           = 'Duplicate'/>
      <enumeration   value           = 'Withdrawn'/>
      <enumeration   value           = 'Hold'/>
      <enumeration   value           = 'Abstract in Review'/>
      <enumeration   value           = 'Merged'/>
      <enumeration   value           = 'Needs Administrative Information'/>
      <enumeration   value           = 'Research Study'/>
    </restriction>
  </simpleType>

  <simpleType        name            = 'SponsorName'>
    <restriction     base            = 'NotEmptyString'>
      <enumeration   value           = 'NCI'/>
      <enumeration   value           = 'Pharmaceutical/Industry'/>
      <enumeration   value           = 'NCCAM'/>
      <enumeration   value           = 'NEI'/>
      <enumeration   value           = 'NHLBI'/>
      <enumeration   value           = 'NIA'/>
      <enumeration   value           = 'NIAID'/>
      <enumeration   value           = 'NIAMS'/>
      <enumeration   value           = 'NICHD'/>
      <enumeration   value           = 'NIDCD'/>
      <enumeration   value           = 'NIDDK'/>
      <enumeration   value           = 'NIGMS'/>
      <enumeration   value           = 'NINDS'/>
      <enumeration   value           = 'NIMH'/>
      <enumeration   value           = 'NIDCR'/>
      <enumeration   value           = 'Other'/>
    </restriction>
  </simpleType>

  <simpleType        name            = 'INDGrantor'>
    <restriction     base            = 'NotEmptyString'>
      <enumeration   value           = 'CDER'/>
      <enumeration   value           = 'CBER'/>
    </restriction>
  </simpleType>

  <simpleType        name            = 'ExternalSiteSource'>
    <restriction     base            = 'string'>
      <enumeration   value           = 'RSS'/>
      <enumeration   value           = 'COG'/>
    </restriction>
  </simpleType>

  <simpleType        name            = 'ExternalIDType'>
    <restriction     base            = 'string'>
      <enumeration   value           = 'rss_esys_db_id'/>
      <enumeration   value           = 'CTEP_institution_code'/>
      <enumeration   value           = 'CTSU_person_id'/>
    </restriction>
  </simpleType>

  <simpleType        name            = 'ExternalSiteRegStatus'>
    <restriction     base            = 'string'>
      <enumeration   value           = 'Approved'/>
    </restriction>
  </simpleType>

  <simpleType        name            = 'ProtocolStartDateType'>
    <restriction     base            = 'string'>
      <enumeration   value           = 'Projected'/>
      <enumeration   value           = 'Actual'/>
    </restriction>
  </simpleType>

  <simpleType        name            = 'VoluntaryReviewStatus'>
    <restriction     base            = 'string'>
      <enumeration   value           = 'Out for review'/>
      <enumeration   value           = 'Approved'/>
      <enumeration   value           = 'Approved with Comments'/>
      <enumeration   value           = 'Disapproved'/>
      <enumeration   value           = 'Canceled'/>
    </restriction>
  </simpleType>

</schema>
<!--SCHEMA FROZEN-->
