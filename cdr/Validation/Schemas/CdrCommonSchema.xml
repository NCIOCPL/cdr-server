<?xml version="1.0" encoding="UTF-8" ?>

<!-- $Id: CdrCommonSchema.xml,v 1.6 2001-03-20 21:14:15 bkline Exp $ 
     $Log: not supported by cvs2svn $
     Revision 1.5  2001/02/22 16:07:30  bkline
     Moved SectMetaData to new SummarySection in PatientSummariesSchema.

     Revision 1.4  2001/02/21 19:33:18  bkline
     Added AltTitle type.

     Revision 1.3  2001/02/21 16:35:18  bkline
     Added Section type; restored paragraph to simpler version (no title).

     Revision 1.2  2001/01/23 22:16:14  bkline
     Modifications to reflect discussions with Lakshmi and Ark after CDR
     planning meeting 23 Jan 2001.
<schema              xmlns           = 'http://www.w3.org/2001/XMLSchema'>

<schema xmlns="http://www.w3.org/2000/08/XMLSchema">

<!--=================================================================-->
<!--                  TEXT MARKUP ELEMENT GROUPS                     -->


<group       name="CommonTextElements">
  <choice>
    <element name="Multimedia"            type="Multimedia"/>
    <element name="Comment"               type="GeneralText"/>
  </choice>
</group>

<group       name="TitleMarkupElements">
  <choice>
    <element name="Emphasis"              type="PhraseLevel"/>
    <element name="Strong"                type="PhraseLevel"/>
    <element name="Subscript"             type="PhraseLevel"/>
    <element name="Superscript"           type="PhraseLevel"/>
    <element name="TT"                    type="PhraseLevel"/>
    <element name="GeneName"              type="PhraseLevel"/>
    <element name="ScientificName"        type="PhraseLevel"/>
    <element name="ForeignWord"           type="PhraseLevel"/>
  </choice>
</group>

<group       name="OtherPhraseElements">
  <choice>
    <element name="LOEReference"          type="CdrHref"/>
    <element name="CitationReference"     type="CdrHref"/>
    <element name="SummaryReference"      type="CdrHref"/>
    <element name="ProtocolReference"     type="CdrHref"/>
    <element name="DrugName"              type="PhraseLevel"/>
    <element name="InterventionName"      type="PhraseLevel"/>
    <element name="GlossaryTerm"          type="CdrHref"/>
    <element name="ExternalLink"          type="ExternalLink"/>
    <element name="Quote"                 type="Quote"/>
    <element name="Note"                  type="GeneralText"/>
  </choice>
</group>

<group       name="PhraseElements">
  <choice>
    <group   ref="TitleMarkupElements"/>
    <group   ref="OtherPhraseElements"/>
  </choice>
</group>

<group       name="ParaLevelElements">
  <choice>
    <element name="Para"                  type="PhraseLevel"/>
    <element name="LiteralLayout"         type="PhraseLevel"/>
    <element name="Table"                 type="Table"/>
    <element name="ItemizedList"          type="ItemizedList"/>
    <element name="OrderedList"           type="OrderedList"/>
    <element name="QandASet"              type="QandASet"/>
    <element name="Address"               type="Address"/>
  </choice>
</group>

<group       name="PhraseOrParaElements">
  <choice>
    <group   ref="PhraseElements"/>
    <group   ref="ParaLevelElements"/>
  </choice>
</group>
<!--             MAIN DEFINITION OF COUNTRY LINK TYPE                -->
<!--=================================================================-->
<!--                  GENERAL TEXT ELEMENT TYPES                     -->
    <simpleContent>

<complexType name="Title"                 content="mixed">
  <choice    minOccurs="0" maxOccurs="*">
    <group   ref="TitleMarkupElements"/>
  </choice>
</complexType>

<complexType name="AltTitle"              content="mixed">
  <choice    minOccurs="0" maxOccurs="*">
    <group   ref="TitleMarkupElements"/>
  </choice>
  <attribute name="Usage"                 type="string"        minOccurs="0"/>
</complexType>

<complexType name="PhraseLevel"           content="mixed">
  <choice    minOccurs="0" maxOccurs="*">
    <group   ref="PhraseElements"/>
    <group   ref="CommonTextElements"/>
  </choice>
</complexType>

<complexType name="ParaLevel">
  <choice    minOccurs="1" maxOccurs="*">
    <group   ref="ParaLevelElements"/>
    <group   ref="CommonTextElements"/>
  </choice>
</complexType>

<complexType name="GeneralText"           content="mixed">
  <choice    minOccurs="0" maxOccurs="*">
    <group   ref="PhraseOrParaElements"/>
    <group   ref="CommonTextElements"/>
  </choice>
</complexType>

<complexType name="Section">
  <sequence>
    <element name="Title"                 type="Title"         minOccurs="0"/>
    <element name="AltTitle"              type="AltTitle"      minOccurs="0"
                                                               maxOccurs="*"/>
    <element name="KeyPoint"              type="PhraseLevel"   minOccurs="0"
                                                               maxOccurs="*"/>
    <choice  minOccurs="0" maxOccurs="*">
      <group ref="ParaLevelElements"/>
    </choice>
    <element name="Section"               type="Section"       minOccurs="0"
                                                               maxOccurs="*"/>
  </sequence>
</complexType>

<complexType name="Address">
  <sequence>
    <element name="Honorific"             type="string"        minOccurs="0"/>
    <element name="FirstName"             type="string"        minOccurs="0"/>
    <element name="Surname"               type="string"        minOccurs="0"/>
    <element name="Lineage"               type="string"        minOccurs="0"/>
    <element name="OtherName"             type="string"        minOccurs="0"/>
    <element name="Street"                type="string"        minOccurs="0"
                                                               maxOccurs="*"/>
    <element name="POB"                   type="string"        minOccurs="0"/>
    <element name="Postcode"              type="string"        minOccurs="0"/>
    <element name="City"                  type="string"        minOccurs="0"/>
    <element name="State"                 type="string"        minOccurs="0"/>
    <element name="Country"               type="string"        minOccurs="0"/>
    <element name="Phone"                 type="string"        minOccurs="0"
                                                               maxOccurs="*"/>
    <element name="Fax"                   type="string"        minOccurs="0"
                                                               maxOccurs="*"/>
    <element name="Email"                 type="string"        minOccurs="0"
                                                               maxOccurs="*"/>
  </sequence>
</complexType>

<complexType name="Quote">
  <sequence>
    <element name="QuotedText"            type="GeneralText"/>
    <element name="Source"                type="string"        minOccurs="0"/>
    <element name="Author"                type="string"        minOccurs="0"/>
  </sequence>
</complexType>

<complexType name="ItemizedList">
  <sequence>
    <element name="ListTitle"             type="Title"         minOccurs="0"/>
    <element name="ListItem"              type="GeneralText"   maxOccurs="*"/>
  </sequence>
  <attribute name="Style"                 type="ItemizedListStyle" 
                                                               minOccurs="0"/>
</complexType>

<complexType name="OrderedList">
  <sequence>
    <element name="ListTitle"             type="Title"         minOccurs="0"/>
    <element name="ListItem"              type="GeneralText"   maxOccurs="*"/>
  </sequence>
  <attribute name="Style"                 type="OrderedListStyle" 
                                                               minOccurs="0"/>
</complexType>

<complexType name="Multimedia"            content="textOnly">
  <attribute name="cdr:ref"               type="DocId"         minOccurs="0"/>
  <attribute name="ExternalLink"          type="uri"           minOccurs="0"/>
</complexType>

<complexType name="CdrHref"               content="textOnly">
  <attribute name="cdr:href"              type="DocId"         minOccurs="0"/>
  <attribute name="PdqKey"                type="integer"       minOccurs="0"/>
</complexType>

<complexType name="CdrRef"                content="textOnly">
  <attribute name="cdr:ref"               type="DocId"         minOccurs="0"/>
</complexType>

<complexType name="ExternalLink"          content="textOnly">
  <attribute name="href"                  type="uri"/>
</complexType>

<complexType name="QandASet">
  <sequence>
    <element   name="MarkedUpTitle"       type="Title"         minOccurs="0"/>
    <choice>
      <element name="QandADiv"            type="QandASet"      maxOccurs="*"/>
      <element name="QandAEntry"          type="QandAEntry"    maxOccurs="*"/>
    </choice>
  </sequence>
</complexType>

<complexType name="QandAEntry">
  <sequence>
    <element   name="Question"            type="GeneralText"/>
    <element   name="Answer"              type="GeneralText"   minOccurs="0" 
                                                               maxOccurs="*"/>
  </sequence>
</complexType>

<!--=================================================================-->
<!--                         TABLE TYPES                             -->
<!--=================================================================-->
<complexType name="Table">
  <sequence>
    <element name="Title"                 type="Title"/>
    <element name="TitleAbbrev"           type="Title"         minOccurs="0"/>
    <element name="TGroup"                type="TGroup"        maxOccurs="*"/>
  </sequence>
  <attribute name="Frame"                 type="FrameAttrType" minOccurs="0"/>
  <attribute name="RowSep"                type="YesOrNo"       minOccurs="0"/>
  <attribute name="ColSep"                type="YesOrNo"       minOccurs="0"/>
  <attribute name="TabStyle"              type="NMTOKEN"       minOccurs="0"/>
</complexType>

<complexType name="InformalTable">
  <sequence>
    <element name="TGroup"                type="TGroup"        maxOccurs="*"/>
  </sequence>
  <attribute name="Frame"                 type="FrameAttrType" minOccurs="0"/>
  <attribute name="RowSep"                type="YesOrNo"       minOccurs="0"/>
  <attribute name="ColSep"                type="YesOrNo"       minOccurs="0"/>
  <attribute name="TabStyle"              type="NMTOKEN"       minOccurs="0"/>
</complexType>

<complexType name="TGroup">
  <sequence>
    <element name="ColSpec"               type="ColSpec"       minOccurs="0"
                                                               maxOccurs="*"/>
    <element name="SpanSpec"              type="SpanSpec"      minOccurs="0"
                                                               maxOccurs="*"/>
    <element name="THead"                 type="THeadOrFoot"   minOccurs="0"/>
    <element name="TFoot"                 type="THeadOrFoot"   minOccurs="0"/>
    <element name="TBody"                 type="TBody"/>
  </sequence>
  <attribute name="RowSep"                type="YesOrNo"       minOccurs="0"/>
  <attribute name="ColSep"                type="YesOrNo"       minOccurs="0"/>
  <attribute name="Align"                 type="Align"         minOccurs="0"/>
  <attribute name="Char"                  type="string"        minOccurs="0"/>
  <attribute name="Charoff"               type="NMTOKEN"       minOccurs="0"/>
  <attribute name="Cols"                  type="integer"/>
  <attribute name="TGroupStyle"           type="NMTOKEN"       minOccurs="0"/>
</complexType>

<complexType name="ColSpec"               content="empty">
  <attribute name="Align"                 type="Align"         minOccurs="0"/>
  <attribute name="Char"                  type="string"        minOccurs="0"/>
  <attribute name="Charoff"               type="NMTOKEN"       minOccurs="0"/>
  <attribute name="ColName"               type="NMTOKEN"       minOccurs="0"/>
  <attribute name="ColNum"                type="integer"       minOccurs="0"/>
  <attribute name="ColWidth"              type="string"        minOccurs="0"/>
  <attribute name="RowSep"                type="YesOrNo"       minOccurs="0"/>
  <attribute name="ColSep"                type="YesOrNo"       minOccurs="0"/>
</complexType>

<complexType name="SpanSpec"              content="empty">
  <attribute name="Align"                 type="Align"         minOccurs="0"/>
  <attribute name="Char"                  type="string"        minOccurs="0"/>
  <attribute name="Charoff"               type="NMTOKEN"       minOccurs="0"/>
  <attribute name="SpanName"              type="NMTOKEN"       minOccurs="0"/>
  <attribute name="NameSt"                type="NMTOKEN"       minOccurs="0"/>
  <attribute name="NameEnd"               type="NMTOKEN"       minOccurs="0"/>
  <attribute name="RowSep"                type="YesOrNo"       minOccurs="0"/>
  <attribute name="ColSep"                type="YesOrNo"       minOccurs="0"/>
</complexType>

<complexType name="THeadOrFoot">
  <sequence>
    <element name="ColSpec"               type="ColSpec"       minOccurs="0"
                                                               maxOccurs="*"/>
    <element name="Row"                   type="Row"           maxOccurs="*"/>
  </sequence>
  <attribute name="Valign"                type="Valign"        minOccurs="0"/>
</complexType>

<complexType name="TBody">
  <sequence>
    <element name="Row"                   type="Row"           maxOccurs="*"/>
  </sequence>
  <attribute name="Valign"                type="Valign"        minOccurs="0"/>
</complexType>

<complexType name="Row">
  <sequence>
    <element name="entry"                 type="Entry"         maxOccurs="*"/>
  </sequence>
  <attribute name="RowSep"                type="YesOrNo"       minOccurs="0"/>
  <attribute name="Valign"                type="Valign"        minOccurs="0"/>
</complexType>

<complexType name="Entry"                 content="mixed">
  <choice    minOccurs="0" maxOccurs="*">
    <group   ref="PhraseElements"/>
  </choice>
  <attribute name="RowSep"                type="YesOrNo"       minOccurs="0"/>
  <attribute name="ColSep"                type="YesOrNo"       minOccurs="0"/>
  <attribute name="NameSt"                type="NMTOKEN"       minOccurs="0"/>
  <attribute name="NameEnd"               type="NMTOKEN"       minOccurs="0"/>
  <attribute name="SpanName"              type="NMTOKEN"       minOccurs="0"/>
  <attribute name="MoreRows"              type="integer"       minOccurs="0"/>
  <attribute name="Align"                 type="Align"         minOccurs="0"/>
  <attribute name="Char"                  type="string"        minOccurs="0"/>
  <attribute name="Charoff"               type="NMTOKEN"       minOccurs="0"/>
  <attribute name="Cols"                  type="integer"       minOccurs="0"/>
  <attribute name="Valign"                type="Valign"        minOccurs="0"/>
</complexType>

<!--=================================================================-->
<!--                    COMMON SIMPLE TYPES                          -->
<!--=================================================================-->
<simpleType     name="ItemizedListStyle"  base="string">
  <enumeration  value="simple"/>
  <enumeration  value="bullet"/>
  <enumeration  value="dash"/>
</simpleType>

<simpleType     name="OrderedListStyle"   base="string">
  <enumeration  value="Arabic"/>
  <enumeration  value="UAlpha"/>
  <enumeration  value="URoman"/>
  <enumeration  value="LAlpha"/>
  <enumeration  value="LRoman"/>
</simpleType>

<simpleType     name="YesOrNo"            base="integer">
  <enumeration  value="0"/>
  <enumeration  value="1"/>
</simpleType>

<simpleType     name="FrameAttrType"      base="string">
  <enumeration  value="Sides"/>
  <enumeration  value="Top"/>
  <enumeration  value="Bottom"/>
  <enumeration  value="TopBot"/>
  <enumeration  value="All"/>
</simpleType>

<simpleType     name="Align"              base="string">
  <enumeration  value="Center"/>
  <enumeration  value="Char"/>
  <enumeration  value="Justify"/>
  <enumeration  value="Left"/>
  <enumeration  value="Right"/>
</simpleType>

<simpleType     name="Valign"             base="string">
  <enumeration  value="Bottom"/>
  <enumeration  value="Middle"/>
  <enumeration  value="Top"/>
</simpleType>

<simpleType     name="DocId"              base="string">
  <pattern      value="CDR[0-9]{10}" />
</simpleType>
