<?xml version='1.0' encoding='utf-8'?>
<!-- $Id$ -->
<!-- Filter title: Set InScopeProtocol Status to Active -->
<!-- This filter is used to fool the vendor filter into retaining
     all of the participating sites, by pretending that all the
     relevant statuses are set to 'Active'; we need to do this so
     that we can populate the external map table with values
     derived from the data we would have exported when the protocol
     and the sites were active.
     BZIssue::4725
-->
<xsl:transform           xmlns:xsl = 'http://www.w3.org/1999/XSL/Transform'
                         xmlns:cdr = 'cips.nci.nih.gov/cdr'
           exclude-result-prefixes = 'cdr'
                           version = '1.0'>

 <xsl:output                method = 'xml'
              omit-xml-declaration = 'yes'
                          encoding = 'UTF-8'
                            indent = 'yes'/>

 <xsl:template               match = '@* | node()'>
  <xsl:copy>
   <xsl:apply-templates     select = '@* | node()'/>
  </xsl:copy>
 </xsl:template>

 <xsl:template               match = 'CurrentProtocolStatus'>
  <CurrentProtocolStatus>Active</CurrentProtocolStatus>
 </xsl:template>

 <xsl:template               match = 'CurrentOrgStatus/StatusName'>
  <StatusName>Active</StatusName>
 </xsl:template>

 <xsl:template               match = 'ExternalSiteRegStatus'>
  <ExternalSiteRegStatus>Active</ExternalSiteRegStatus>
 </xsl:template>

 <xsl:template               match = 'OrgSiteStatus'>
  <OrgSiteStatus>Active</OrgSiteStatus>
 </xsl:template>

 <xsl:template               match = 'PrivatePracticeSiteStatus'>
  <PrivatePracticeSiteStatus>Active</PrivatePracticeSiteStatus>
 </xsl:template>

</xsl:transform>
